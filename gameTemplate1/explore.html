<!DOCTYPE html>
<html>
<head>
<title>Survival Quest</title>

<script src="jquery-1.11.3.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" type="text/css" href="style.css">
<!--link jQuery UI here if you need it !-->
<script src="gamedev.js"></script>
</head>

<body id="exploreBody">

<!--Your code goes here !-->

<canvas id="canvas" width="500" height="500" style="border: 1px solid #000000;"></canvas>

<script type="text/javascript">

	var height = 500;
	var width = 500;
	var message = 'bounce';

	//player
	
	var enemyList = {};

	Enemy('E1', 10, 150, -20, 5)
	Enemy('E2', 400, 200, -20, 10);

	function Enemy(id, x, y, spdX, spdY) {
		var enemy2 = {
			x : x,
			y : y,
			spdX : spdX,
			spdY : spdY,
			message : 'bounce',
			name : 'E',
			id : id
		};
	enemyList[id] = enemy2;
	}



	var player = {
        x:50,
        spdX:30,
        y:40,
        spdY:5,
        name:'P',      
	};
	
	var ctx = document.getElementById("canvas").getContext("2d");

	ctx.font = '30px Arial' ;


	function updateEntity(something) {

		//enemy
		ctx.fillText(something.name ,  something.x, something.y);
		something.x += something.spdX;
		something.y += something.spdY;
		if (something.x >= width) {
			something.spdX = -something.spdX;
			console.log(message);
		} else if (something.x <= 0) {
			something.spdX = -something.spdX;
			console.log(message);
		}
		if (something.y >= width) {
			something.spdY = -something.spdY;
			console.log(message);
		} else if (something.y <= 0) {
			something.spdY = -something.spdY;
			console.log(message);
		}
		console.log("enemy x ", something.x);
		console.log("enemy y ", something.y);
	}

	function update(){
		ctx.clearRect(0,0,width, height);
		updateEntity(player);

		for(var key in enemyList) {
			updateEntity(enemyList[key]);
		}
	}

	setInterval(update, 40);


</script>

</body>
</html>
